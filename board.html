<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kanban-Board | JOIN</title>
    <link rel="shortcut icon" href="./assets/img/JoinLogo.svg" type="image/x-icon">
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="./assets/css/icons/icons.css">
    <link rel="stylesheet" href="./responsive.css">
    <link rel="stylesheet" href="./assets/css/board.css">
    <link rel="stylesheet" href="./assets/css/task.css">
    <link rel="stylesheet" href="./assets/css/addTask.css">
    <script src="script.js"></script>
    <script src="./assets/js/firebase-connect.js"></script>
    <script src="./assets/js/board.js"></script>
    <script src="./assets/js/task-view.js"></script>
</head>

<body onload="renderSidebarHeader(); updateActiveStateNavLink('sidebar-nav-board'); renderBoards()">

    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar">
    </aside>

    <!-- Main Content Bereich -->
    <div class="container">
        <!-- HEADER -->
        <header id="header" class="header-wrapper">
        </header>

        <main class="main">
            <section class="board-header">
                <h1>Board</h1>
                <div class="right-board-header">
                    <label class="search-label">
                        <input type="text" placeholder="Find Task" onkeyup="search(this.value)">
                        <span></span>
                        <div class="icon icon-search"></div>
                    </label>
                    <button>Add task</button>
                </div>
            </section>

            <!-- Board columns -->
            <section class="board-middle">
                <div class="boards">
                    <div class="board-title">
                        <h3>To do</h3>
                        <div class="icon icon-add"></div>
                    </div>
                    <div class="board-tasks" id="todo-tasks">

                    </div>
                </div>
                <div class="boards">
                    <div class="board-title">
                        <h3>In progress</h3>
                        <div class="icon icon-add"></div>
                    </div>
                    <div class="board-tasks" id="progress-tasks">
                    </div>
                </div>
                <div class="boards">
                    <div class="board-title">
                        <h3>Await feedback</h3>
                        <div class="icon icon-add"></div>
                    </div>
                    <div class="board-tasks" id="await-feedback-tasks">
                    </div>
                </div>
                <div class="boards">
                    <div class="board-title">
                        <h3>Done</h3>
                    </div>
                    <div class="board-tasks" id="done-tasks">
                    </div>
                </div>
            </section>

            <!-- Task Detailview Overlay -->
            <div class="overlay" id="overlay" onclick="closeTaskDetail()">
                <div class="task-detail" id="task-detail" onclick="event.stopPropagation();">
                    <div id="close-btn-task-detail" class="close-btn-task-detail" onclick="closeTaskDetail()">
                        <img src="./assets/img/close.svg" alt="Close">
                    </div>
                    <div class="userStory">User Story</div>
                    <h1>Kochwelt Page & Recipe Recommender</h1>
                    <p>Build start page with recipe recommendation.</p>
                    <div class="task-term">
                        <div>
                            <p>Due date:</p>
                            <p>Priority:</p>
                        </div>
                        <div>
                            <p>Date</p>
                            <p>Urgency</p>
                        </div>
                    </div>
                    <div class="assigned">
                        <p>Assigned To:</p>
                        <div id="task-overlay-assigned-contacts">
                            <div class="contributor-placement">
                                <div class="contributor" style="background-color: #f54242;">AB</div>
                                <p>Alfred Bauer</p>
                            </div>
                            <div class="contributor-placement">
                                <div class="contributor" style="background-color: #42f554;">CD</div>
                                <p>Chriss Dreiyr</p>
                            </div>
                            <div class="contributor-placement">
                                <div class="contributor" style="background-color: #4287f5;">EF</div>
                                <p>Elfi Freud</p>
                            </div>
                        </div>
                    </div>
                    <div class="subtask">
                        <p style="margin-bottom: 10px;">Subtask</p>
                        <div class="subtask-checkbox">
                            <div class="check-subtask"><img class="checkbox-img" src="./assets/img/Rectangle 5.svg"
                                    alt=""><span>Implement Recipe Recommendation</span></div>
                            <div class="check-subtask"><img class="checkbox-img" src="./assets/img/Rectangle 5.svg"
                                    alt=""><span>Start Page Layout</span></div>
                        </div>
                        <div class="task-edit-delete">
                            <button class="task-edit-delete-btn"><img src="./assets/img/delete.svg" alt="">
                                <span>Delete</span>
                            </button>
                            <button onclick="editTask()" class="task-edit-delete-btn"><img src="./assets/img/edit.svg" alt="">
                                <span>Edit</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Note: The edit-task is influenced by both addTask.css and task.css -->
                <div class="edit-task-wrapper">
                    <div class="edit-task" id="edit-task " onclick="event.stopPropagation();">
                        <div id="close-btn-task-detail" class="close-btn-edit-task-detail" onclick="closeTaskDetail()">
                            <img src="./assets/img/close.svg" alt="Close">
                        </div>

                        <div class="form-column edit-task-form-column">
                            <label for="title">Title</label>
                            <input type="text" id="title" name="title" placeholder="Enter a title" required>
    
                            <label for="description">Description</label>
                            <textarea id="description" name="description" rows="4"
                                placeholder="Enter a Description"></textarea>

                            <label for="due-date">Due date</label>
                            <input type="date" id="due-date" name="due-date" required>
                        </div>

                        <div class="priority-assignment">
                            <p>Priority</p>
                            
                            <div class="prio-options edit-task-prio-options">
                                <button type="button" class="prio-btn urgent" onclick="selectPrio('urgent')">Urgent</button>
                                <button type="button" class="prio-btn medium active"
                                    onclick="selectPrio('medium')">Medium</button>
                                <button type="button" class="prio-btn low" onclick="selectPrio('low')">Low</button>
                            </div>

                        </div>

                        <div class="assigned-contributors-to-task">

                            <label for="contactsToAssign" class="assigned-label">Assigned to</label>
                            <select id="contactsToAssign" name="contact" required>
                                <option value="contacts-assign">Select contacts to assign</option>
                            </select>

                                <div class="edit-assigned-contributors">
                                    <div class="contributor" style="background-color: #f54242;">AB</div>
                                    <div class="contributor" style="background-color: #42f554;">CD</div>
                                    <div class="contributor" style="background-color: #4287f5;">EF</div>
                                </div>
                        </div>

                                    <label for="subtasks" class="subtasks-label">Subtasks</label>
                                    <div class="subtask-row">
                                        <input type="text" id="subtasks" name="subtasks" placeholder="Add new subtask">
                                        <button type="button" class="edit-subtask-btn">+</button>
                                    </div>

                                    <div class="edit-task-subtask-listing-wrapper">
                                        <div class="edit-task-subtask-listing">
                                            <p><span class="subtask-dot"></span>Implement Recipe Recommendation</p>
                                            <div class="edit-task-subtask-listing-icons">
                                                <img src="./assets/img/edit.svg" alt="Edit Subtask" title="Edit">
                                                <img src="./assets/img/delete.svg" alt="Delete Subtask" title="Delete">
                                            </div>
                                        </div>
                                        <div class="edit-task-subtask-listing">
                                            <p><span class="subtask-dot"></span>Start Page Layout</p>
                                            <div class="edit-task-subtask-listing-icons">
                                                <img src="./assets/img/edit.svg" alt="Edit Subtask" title="Edit">
                                                <img src="./assets/img/delete.svg" alt="Delete Subtask" title="Delete">
                                            </div>
                                        </div>
                                    </div>  
                    </div>

                    <div class="edit-task-confirm-btn" onclick="event.stopPropagation(); confirmEdit();">
                        <button type="submit" class="edit-task-btn" onclick="confirmEdit()">Ok<svg width="25" height="24" 
                            viewBox="0 0 25 24" fill="white" xmlns="http://www.w3.org/2000/svg">
                            
                                                                            
                            <g mask="url(#mask0_75592_9963)">
                                <path
                                    d="M9.69474 15.15L18.1697 6.675C18.3697 6.475 18.6072 6.375 18.8822 6.375C19.1572 6.375 19.3947 6.475 19.5947 6.675C19.7947 6.875 19.8947 7.1125 19.8947 7.3875C19.8947 7.6625 19.7947 7.9 19.5947 8.1L10.3947 17.3C10.1947 17.5 9.96141 17.6 9.69474 17.6C9.42807 17.6 9.19474 17.5 8.99474 17.3L4.69474 13C4.49474 12.8 4.3989 12.5625 4.40724 12.2875C4.41557 12.0125 4.51974 11.775 4.71974 11.575C4.91974 11.375 5.15724 11.275 5.43224 11.275C5.70724 11.275 5.94474 11.375 6.14474 11.575L9.69474 15.15Z"
                                    fill="white" />
                            </g>
                            </svg>
                        </button>  
                    </div>
                 </div>
            </div>
        </main>
    </div>

</body>

</html>